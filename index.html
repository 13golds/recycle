<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycle Coin</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
    <style>
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(to bottom, #81c784, #388e3c); color: white; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; margin: 0; padding: 0; }
        header { padding: 20px; }
        h1 { font-size: 3rem; margin: 0; text-transform: uppercase; }
        .fade-in { opacity: 0; animation: fadeIn 1.5s forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .content { padding: 40px; background: rgba(0, 77, 64, 0.8); border-radius: 10px; max-width: 600px; width: 100%; box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.5); }
        .btn { background-color: #388e3c; color: white; padding: 15px 32px; font-size: 1.2rem; cursor: pointer; border-radius: 5px; transition: transform 0.3s, background-color 0.3s; }
        .btn:hover { transform: scale(1.1); background-color: #2e7d32; }
        .token-display { font-size: 1.5rem; margin-top: 20px; }
        .navbar { position: fixed; top: 0; left: 0; width: 100%; background-color: rgba(0, 77, 64, 0.8); padding: 10px; z-index: 1000; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3); }
        .navbar ul { list-style: none; margin: 0; padding: 0; display: flex; justify-content: space-around; }
        .navbar a { text-decoration: none; color: white; font-size: 1.1rem; font-weight: 600; }
        .navbar a:hover { color: #81c784; }
        footer { margin-top: 40px; }
    </style>
</head>
<body>
    <div class="navbar fade-in">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </div>

    <header class="fade-in">
        <h1>Recycle Coin</h1>
    </header>

    <div id="home" class="content fade-in">
        <h2>Earn Recycle Tokens</h2>
        <p>Start recycling today and earn Recycle Tokens for your efforts. Together, we can save the planet!</p>
        <button class="btn" id="generateTokens">Generate Tokens</button>
        <div class="token-display" id="tokenCount">You have earned 0 Recycle Tokens!</div>
    </div>

    <div id="about" class="content fade-in" style="margin-top: 30px;">
        <h2>About</h2>
        <p>Recycle Coin is a project aimed at promoting eco-friendly habits and rewarding users with digital tokens for their recycling efforts. Every token earned contributes to making the planet cleaner and greener!</p>
    </div>

    <div id="contact" class="content fade-in" style="margin-top: 30px;">
        <h2>Contact</h2>
        <p>If you have any questions or need support, feel free to reach out:</p>
        <p>Email: <a href="mailto:13gaudi@gmail.com">13gaudi@gmail.com</a></p>
    </div>

    <footer class="fade-in">
        <p>Made with ðŸ’š for a cleaner future. <i class="fas fa-recycle"></i></p>
    </footer>

    <script>
        if (typeof window.ethereum !== 'undefined') {
            console.log('MetaMask is installed!');
        }

        const web3 = new Web3(window.ethereum);
        const tokenAddress = '0x73731b3605a01a60308A57d4F8B0BDFfA8691eAD';
        const tokenABI = [
            { "constant": true, "inputs": [{ "name": "_owner", "type": "address" }], "name": "balanceOf", "outputs": [{ "name": "balance", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }
        ];

        const tokenContract = new web3.eth.Contract(tokenABI, tokenAddress);

        async function getBalance() {
            const accounts = await web3.eth.requestAccounts();
            const userAddress = accounts[0];
            const balance = await tokenContract.methods.balanceOf(userAddress).call();
            document.getElementById('tokenCount').innerText = `You have earned ${web3.utils.fromWei(balance, 'ether')} Recycle Tokens!`;
        }

        document.getElementById('generateTokens').addEventListener('click', getBalance);
    </script>
</body>
</html>
